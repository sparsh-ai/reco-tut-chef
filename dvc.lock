schema: '2.0'
stages:
  prepare_30music:
    cmd: python src/dataprep/30music.py data/bronze/30music/sessions_sample_10.parquet.snappy
    deps:
    - path: data/bronze/30music/sessions_sample_10.parquet.snappy
      md5: 604e634fb3b7505d6fafc4293ffd2bc7
      size: 3680017
    - path: src/dataprep/30music.py
      md5: e97cd2c86159f64a567cd8b34d40e90a
      size: 1506
    params:
      params.yaml:
        prepare_30music.filter_last_months: 1
        prepare_30music.filter_topk: 1000
    outs:
    - path: data/silver/30music
      md5: 09d5ef5a4042482d29f581f56c967514.dir
      size: 217650
      nfiles: 2
  train_30music:
    cmd: python src/train.py data/silver/30music artifacts/30music/models
    deps:
    - path: data/silver/30music/test.parquet.snappy
      md5: 45618e571fae5ff77fe321a3ee3b3b47
      size: 134777
    - path: data/silver/30music/train.parquet.snappy
      md5: d99ed34fc762bde348e97fe10261f035
      size: 82873
    - path: src/train.py
      md5: 52b5c70dbca660abc04736d71afa77e2
      size: 845
    params:
      params.yaml:
        train_30music.model_name: itempop
